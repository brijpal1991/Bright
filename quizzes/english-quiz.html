<!-- english-quiz.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Quiz - BrightMinds</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f0f8ff;
      font-family: 'Segoe UI', sans-serif;
    }
    .quiz-container {
      max-width: 800px;
      margin: 3em auto;
      padding: 2em;
      background: #ffffff;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }
    .question {
      font-size: 1.5em;
      margin-bottom: 1em;
    }
    .option {
      margin: 0.5em 0;
    }
    .option button {
      width: 100%;
      padding: 0.75em;
      font-size: 1.1em;
      border-radius: 10px;
      border: 2px solid #ddd;
      background-color: #f9f9f9;
      transition: background-color 0.3s;
    }
    .option button:hover {
      background-color: #d0ebff;
    }
    .feedback {
      font-size: 1.2em;
      margin-top: 1em;
      text-align: center;
    }
    .score-board, .timer-board {
      text-align: center;
      font-size: 1.2em;
      margin-top: 1em;
    }
    .play-again {
      text-align: center;
      margin-top: 1.5em;
    }
  </style>
</head>
<body>
  <div class="container quiz-container">
    <h2 class="text-center mb-4">üî§ English Quiz - Level <span id="level">1</span></h2>
    <div id="quizBox">
      <div class="question" id="questionText"></div>
      <div id="optionsContainer" class="mb-3"></div>
      <div class="feedback" id="feedback"></div>
      <div class="score-board">
        Score: <span id="score">0</span> / <span id="total">0</span>
      </div>
      <div class="timer-board">
        Time Left: <span id="timer">15</span> seconds
      </div>
    </div>
    <div class="play-again" style="display:none;">
      <button class="btn btn-primary" onclick="restartQuiz()">Play Again</button>
    </div>
  </div>

  <audio id="correctSound" src="../assets/sounds/correct.mp3"></audio>
  <audio id="wrongSound" src="../assets/sounds/wrong.mp3"></audio>

  <script>
    const questions = [
      { question: "Which word is a noun?", options: ["Run", "Apple", "Quickly", "Blue"], answer: "Apple", level: 1 },
      { question: "Which word is a verb?", options: ["Happy", "Play", "Chair", "Green"], answer: "Play", level: 1 },
      { question: "Which one is an adjective?", options: ["Dog", "Beautiful", "Run", "Spoon"], answer: "Beautiful", level: 1 },
      { question: "Which word is used to describe an action?", options: ["Walk", "Tall", "Fast", "Cup"], answer: "Walk", level: 1 },
      { question: "Which of these is a pronoun?", options: ["He", "Run", "Yellow", "Slowly"], answer: "He", level: 1 },
      { question: "Choose the correct article for '___ elephant'", options: ["A", "An", "The", "No Article"], answer: "An", level: 2 },
      { question: "What is the plural of 'mouse'?", options: ["Mouses", "Mices", "Mice", "Mousees"], answer: "Mice", level: 2 },
      { question: "Which of these is a conjunction?", options: ["And", "Blue", "Tiger", "Run"], answer: "And", level: 2 },
      { question: "Find the correct spelling:", options: ["Recieve", "Receive", "Recive", "Receeve"], answer: "Receive", level: 2 },
      { question: "Which is a preposition?", options: ["In", "Apple", "Yellow", "Jump"], answer: "In", level: 2 }
    ];

    let current = 0;
    let score = 0;
    let level = 1;
    let timer;
    let timeLeft = 15;

    const correctSound = document.getElementById('correctSound');
    const wrongSound = document.getElementById('wrongSound');

    function loadQuestion() {
      clearInterval(timer);
      timeLeft = 15;
      document.getElementById('timer').textContent = timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          checkAnswer(null);
        }
      }, 1000);

      const q = questions[current];
      level = q.level;
      document.getElementById('level').textContent = level;
      document.getElementById('questionText').textContent = q.question;
      document.getElementById('total').textContent = questions.length;
      const optionsBox = document.getElementById('optionsContainer');
      optionsBox.innerHTML = '';
      q.options.forEach(option => {
        const btn = document.createElement('button');
        btn.className = 'btn btn-light option';
        btn.textContent = option;
        btn.onclick = () => checkAnswer(option);
        const div = document.createElement('div');
        div.className = 'option';
        div.appendChild(btn);
        optionsBox.appendChild(div);
      });
      document.getElementById('feedback').textContent = '';
    }

    function checkAnswer(selected) {
      clearInterval(timer);
      const correct = questions[current].answer;
      const feedback = document.getElementById('feedback');
      if (selected === correct) {
        feedback.textContent = "‚úÖ Correct!";
        feedback.style.color = "green";
        score++;
        correctSound.play();
      } else {
        feedback.textContent = `‚ùå Wrong! Correct answer is: ${correct}`;
        feedback.style.color = "red";
        wrongSound.play();
      }
      document.getElementById('score').textContent = score;
      current++;
      if (current < questions.length) {
        setTimeout(loadQuestion, 2000);
      } else {
        endQuiz();
      }
    }

    function endQuiz() {
      document.getElementById('quizBox').style.display = 'none';
      document.querySelector('.play-again').style.display = 'block';
    }

    function restartQuiz() {
      current = 0;
      score = 0;
      document.getElementById('score').textContent = score;
      document.getElementById('quizBox').style.display = 'block';
      document.querySelector('.play-again').style.display = 'none';
      loadQuestion();
    }

    window.onload = loadQuestion;
  </script>
</body>
</html>
